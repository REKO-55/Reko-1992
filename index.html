<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REKO V30 - COMMAND & CONTROL</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <style>
        :root { --gold: #D4AF37; --neon: #00FF00; --bg: #000; }
        body { background-color: var(--bg); color: var(--neon); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; text-align: center; margin: 0; padding: 15px; }
        .box { border: 2px solid var(--gold); padding: 25px; border-radius: 20px; background: #050505; box-shadow: 0 0 25px rgba(212, 175, 55, 0.2); max-width: 500px; margin: 20px auto; }
        input { padding: 15px; width: 85%; margin: 10px 0; border-radius: 12px; border: 1px solid #333; background: #111; color: var(--gold); text-align: center; font-size: 18px; }
        .btn-main { background: var(--gold); color: #000; padding: 15px; width: 90%; border-radius: 12px; font-weight: bold; border: none; cursor: pointer; font-size: 18px; box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3); }
        .hidden { display: none; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        .game-btn { background: #111; color: #fff; padding: 20px; border-radius: 12px; border: 1px solid #333; font-weight: bold; font-size: 18px; }
        .admin-panel { border-color: #ff0000; box-shadow: 0 0 25px rgba(255, 0, 0, 0.4); }
        .res-display { background: #000; border: 1px solid var(--neon); padding: 25px; border-radius: 15px; font-size: 24px; margin: 20px 0; color: #fff; min-height: 60px; }
    </style>
</head>
<body>

    <div id="loginGate" class="box">
        <h1 style="color: var(--gold);">REKO PREDATOR V30</h1>
        <p style="color: #666;">Ù†Ø¸Ø§Ù… Ø§Ù„Ø³ÙŠØ·Ø±Ø© Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</p>
        <input type="text" id="authKey" placeholder="Ø£Ø¯Ø®Ù„ Ù…ÙØªØ§Ø­ VIP Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ">
        <button class="btn-main" onclick="authorize()">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø­Ø±ÙƒØ§Øª</button>
        <p style="font-size: 10px; color: #444; margin-top: 20px;">Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬: Ø§Ù„Ø¨Ø±ÙˆÙÙŠØ³ÙˆØ± 3000</p>
    </div>

    <div id="adminConsole" class="box admin-panel hidden">
        <h2 style="color: #ff0000;">Ù„ÙˆØ­Ø© ØªØµÙ†ÙŠØ¹ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ ğŸ› ï¸</h2>
        <input type="text" id="keyName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙØªØ§Ø­ (Ù…Ø«Ù„Ø§Ù‹: REKO-USER-1)">
        <input type="number" id="keyDuration" placeholder="Ø§Ù„Ù…Ø¯Ø© Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª (Ù…Ø«Ù„Ø§Ù‹: 24)">
        <button class="btn-main" style="background: #ff0000; color: #fff;" onclick="createKey()">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ</button>
        <div id="keyStatus" style="margin-top: 15px; font-size: 14px; color: var(--gold);"></div>
    </div>

    <div id="userInterface" class="box hidden">
        <h2 style="color: var(--gold);">VIP ACCESS ACTIVE ğŸŸ¢</h2>
        <div id="expiryCount" style="font-size: 12px; color: #ff4444;"></div>
        <div class="res-display" id="resDisplay">Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø´Ø±ÙŠØ· (0/4)</div>
        <div class="grid" id="btnGrid"></div>
    </div>

    <script>
        // --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Firebase) ---
        // Ø§Ø³ØªØ¨Ø¯Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ø¯Ù†Ø§Ù‡ Ø¨Ø±Ø§Ø¨Ø· Realtime Database Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† Ø¬ÙˆØ¬Ù„
        const config = { databaseURL: "https://your-project-default-rtdb.firebaseio.com/" };
        firebase.initializeApp(config);
        const db = firebase.database();

        // --- Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„Ø³ÙŠØ·Ø±Ø© ---
        function authorize() {
            const key = document.getElementById('authKey').value;
            
            // ÙƒÙˆØ¯ Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ø§Ù„Ø³Ø±ÙŠ (Ù„Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…)
            if(key === "REKO-MASTER-3000") {
                document.getElementById('loginGate').classList.add('hidden');
                document.getElementById('adminConsole').classList.remove('hidden');
                return;
            }

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ† ÙÙŠ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©
            db.ref('active_keys/' + key).once('value').then((snap) => {
                const data = snap.val();
                if(data) {
                    const now = new Date().getTime();
                    if(now < data.expiresAt) {
                        showApp(key, data.expiresAt);
                    } else {
                        alert("Ø¹Ø°Ø±Ø§Ù‹.. Ø§Ù†ØªÙ‡Ù‰ ÙˆÙ‚Øª Ù‡Ø°Ø§ Ø§Ù„Ù…ÙØªØ§Ø­!");
                    }
                } else {
                    alert("Ø§Ù„Ù…ÙØªØ§Ø­ ØºÙŠØ± Ù…Ø³Ø¬Ù„ ÙÙŠ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©!");
                }
            });
        }

        // --- ÙˆØ¸ÙŠÙØ© ØªØµÙ†ÙŠØ¹ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ (Ù„Ù„Ù…Ø¨Ø±Ù…Ø¬ ÙÙ‚Ø·) ---
        function createKey() {
            const name = document.getElementById('keyName').value;
            const hours = document.getElementById('keyDuration').value;
            if(!name || !hours) return alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø©!");

            const expireAt = new Date().getTime() + (hours * 60 * 60 * 1000);
            db.ref('active_keys/' + name).set({
                expiresAt: expireAt,
                createdAt: new Date().getTime()
            }).then(() => {
                document.getElementById('keyStatus').innerText = `âœ… ØªÙ… ØµÙ†Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­: ${name} (ØµØ§Ù„Ø­ Ù„Ù€ ${hours} Ø³Ø§Ø¹Ø©)`;
            });
        }

        // --- ØªØ´ØºÙŠÙ„ Ù†Ø³Ø®Ø© V16 Ø§Ù„Ù…Ø³ØªÙ…Ø±Ø© Ù„Ù„Ù…Ø´ØªØ±Ùƒ ---
        let history = [];
        function showApp(key, expiry) {
            document.getElementById('loginGate').classList.add('hidden');
            document.getElementById('userInterface').classList.remove('hidden');
            
            const hoursLeft = Math.round((expiry - new Date().getTime()) / (1000 * 60 * 60));
            document.getElementById('expiryCount').innerText = `ÙŠÙ†ØªÙ‡ÙŠ Ø§Ø´ØªØ±Ø§ÙƒÙƒ Ø¨Ø¹Ø¯: ${hoursLeft} Ø³Ø§Ø¹Ø©`;

            const grid = document.getElementById('btnGrid');
            const items = ["ğŸ¥", "ğŸŸ", "ğŸ‚", "ğŸ¤", "ğŸ…", "ğŸ¥•", "ğŸŒ¶ï¸", "ğŸŒ½"];
            items.forEach(item => {
                let b = document.createElement('button');
                b.className = 'game-btn';
                b.innerText = item;
                b.onclick = () => {
                    history.push(item);
                    if(history.length > 4) history.shift();
                    const disp = document.getElementById('resDisplay');
                    if(history.length < 4) {
                        disp.innerText = `Ù…Ø²Ø§Ù…Ù†Ø©: ${history.length}/4`;
                    } else {
                        const r = items.sort(() => .5 - Math.random()).slice(0,4);
                        disp.innerHTML = `ğŸ¯ ${r[0]} | ğŸ¯ ${r[1]} <br> ğŸ¯ ${r[2]} | ğŸ¯ ${r[3]}`;
                        disp.style.color = "#00FF00";
                    }
                };
                grid.appendChild(b);
            });
        }
    </script>
</body>
</html>
